<%# ---------------------------------------------------------------------%>
<%# Basing my personal modifications on touchcursor_mode.json.erb.       %>
<%#                                                                      %>
<%# A much simplified copy of the vi_mode.json.erb file, for TouchCursor %>
<%# ---------------------------------------------------------------------%>
{
    "title": "Personal rules (@nomaded)",
    "rules": [
        {
            "description": "TouchCursor Mode [Space as Trigger Key]",
            "manipulators": [

                <%# -------------------------------------------------- %>
                <%# press spacebar to enter TouchCursor Mode, release to quit %>
                <%# -------------------------------------------------- %>
                {
                    "type": "basic",
                    "from": <%= from("spacebar", [], ["caps_lock"]) %>,
                    "to": [
                        { "set_variable": { "name": "touchcursor_mode", "value": 1 } }
                    ],
                    "to_if_alone": <%= to([["spacebar"]]) %>,
                    "to_after_key_up": [
                        { "set_variable": { "name": "touchcursor_mode", "value": 0 } }
                    ]
                },

                <%# -------------------------------------------------- %>
                <%# change number row %>
                <%# -------------------------------------------------- %>
                {
                    "type": "basic",
                    "from": <%= from("grave_accent_and_tilde", [], ["any"]) %>,
                    "to": <%= to([["vk_none"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("1", [], ["any"]) %>,
                    "to": <%= to([["f1"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("2", [], ["any"]) %>,
                    "to": <%= to([["f2"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("3", [], ["any"]) %>,
                    "to": <%= to([["f3"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("4", [], ["any"]) %>,
                    "to": <%= to([["f4"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("5", [], ["any"]) %>,
                    "to": <%= to([["f5"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("6", [], ["any"]) %>,
                    "to": <%= to([["f6"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("7", [], ["any"]) %>,
                    "to": <%= to([["f7"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("8", [], ["any"]) %>,
                    "to": <%= to([["f8"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("9", [], ["any"]) %>,
                    "to": <%= to([["f9"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("0", [], ["any"]) %>,
                    "to": <%= to([["f10"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("-", [], ["any"]) %>,
                    "to": <%= to([["f11"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("=", [], ["any"]) %>,
                    "to": <%= to([["f12"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("delete_or_backspace", [], ["any"]) %>,
                    "to": <%= to([["delete_forward"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },

                <%# -------------------------------------------------- %>
                <%# change tab row %>
                <%# -------------------------------------------------- %>
                {
                    "type": "basic",
                    "from": <%= from("tab", [], ["any"]) %>,
                    "to": <%= to([["tab", ["left_command"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("q", [], ["any"]) %>,
                    "to": <%= to([["open_bracket", ["left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("w", [], ["any"]) %>,
                    "to": <%= to([["open_bracket"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("e", [], ["any"]) %>,
                    "to": <%= to([["up_arrow"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("r", [], ["any"]) %>,
                    "to": <%= to([["vk_none"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("t", [], ["any"]) %>,
                    "to": <%= to([["page_up"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("y", [], ["any"]) %>,
                    "to": <%= to([["grave_accent_and_tilde"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("u", [], ["any"]) %>,
                    "to": <%= to([["9", ["left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("i", [], ["any"]) %>,
                    "to": <%= to([["0", ["left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("o", [], ["any"]) %>,
                    "to": <%= to([["close_bracket"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("p", [], ["any"]) %>,
                    "to": <%= to([["close_bracket", ["left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("open_bracket", [], ["any"]) %>,
                    "to": <%= to([["vk_none"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("close_bracket", [], ["any"]) %>,
                    "to": <%= to([["vk_none"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("backslash", [], ["any"]) %>,
                    "to": <%= to([["vk_none"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },

                <%# -------------------------------------------------- %>
                <%# change caps_lock row %>
                <%# -------------------------------------------------- %>
                {
                    "type": "basic",
                    "from": <%= from("caps_lock", [], ["any"]) %>,
                    "to": <%= to([["vk_none"], ["left_control"]]) %>,
                    "to_if_alone": <%= to([["escape"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("a", [], ["any"]) %>,
                    "to": <%= to([["home"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("s", [], ["any"]) %>,
                    "to": <%= to([["left_arrow"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("d", [], ["any"]) %>,
                    "to": <%= to([["down_arrow"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("f", [], ["any"]) %>,
                    "to": <%= to([["right_arrow"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("g", [], ["any"]) %>,
                    "to": <%= to([["backslash"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("h", [], ["any"]) %>,
                    "to": <%= to([["slash"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("j", [], ["any"]) %>,
                    "to": <%= to([["left_arrow"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("k", [], ["any"]) %>,
                    "to": <%= to([["down_arrow"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("l", [], ["any"]) %>,
                    "to": <%= to([["up_arrow"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("semicolon", [], ["any"]) %>,
                    "to": <%= to([["right_arrow"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("quote", [], ["any"]) %>,
                    "to": <%= to([["vk_none"], ["left_control"]]) %>,
                    "to_if_alone": <%= to([["escape"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("return_or_enter", [], ["any"]) %>,
                    "to": <%= to([["vk_none"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },

                <%# -------------------------------------------------- %>
                <%# change shift row %>
                <%# -------------------------------------------------- %>
                {
                    "type": "basic",
                    "from": <%= from("left_shift", [], ["any"]) %>,
                    "to": <%= to([["vk_none"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("z", [], ["any"]) %>,
                    "to": <%= to([["end"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("x", [], ["any"]) %>,
                    "to": <%= to([["vk_none"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("c", [], ["any"]) %>,
                    "to": <%= to([["equal_sign", ["left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("v", [], ["any"]) %>,
                    "to": <%= to([["equal_sign"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("b", [], ["any"]) %>,
                    "to": <%= to([["page_down"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("n", [], ["any"]) %>,
                    "to": <%= to([["grave_accent_and_tilde", ["left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("m", [], ["any"]) %>,
                    "to": <%= to([["hyphen"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("comma", [], ["any"]) %>,
                    "to": <%= to([["hyphen", ["left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("period", [], ["any"]) %>,
                    "to": <%= to([["backslash", ["left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("slash", [], ["any"]) %>,
                    "to": <%= to([["slash", ["left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("right_shift", [], ["any"]) %>,
                    "to": <%= to([["vk_none"]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "touchcursor_mode", "value": 1 }
                    ]
                },

